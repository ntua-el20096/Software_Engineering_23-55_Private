<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="main.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
    <link rel="icon" href="small_logo.png">
    <title>MOVIE</title>
    <!-- there goes the title of the movie -->
</head>

<body>
    <header>
        <div class="logo">
            <img src="big_logo.png" alt="">
            <h3>NTUA Flix</h3>
        </div>
        <div class="user">
            <i class="fas fa-search"></i>
        </div>  
    </header>

    <!-- Hero section -->
    <section>
        <section>
            <div class="heropage">
                <div class="inside-heropage" style="margin-top: -70px;">
                    <h1 id="movieTitle"></h1>
                    <p id="movieCategory"></p>
                    <p id="movieReleaseYear"></p>
                    <p id="movieRating"></p>
                    <p id="movieVotes"></p>
                    
                </div>
            </div>
            <div class="poster">
                <img src="" alt="Movie Poster" id="posterImg">
        </div>
    </section>

    <div class="slatest-movies">
        <h1>Cast & Crew</h1>
        <div class="slatest-container" id="slatestContainer">
        </div>
    </div>
    <script src="slatestMovies.js"></script>

    <!-- Goto button -->
    <div class="scroll">
        <a href=""><i class="fas fa-arrow-up"></i></a>
    </div>
     
    <!-- Script for handling query parameters and setting values -->
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const queryParams = getQueryParams();
            const title = queryParams['title'] || '';
            const category = queryParams['category'] || '';
            const releaseYear = queryParams['releaseYear'] || '';
            const rating = queryParams['rating'] || '';
            const votes = queryParams['votes'] || '';
            const isAdult = queryParams['isAdult'] || ''; // Add this line
    const runtimeMinutes = queryParams['runtimeMinutes'] || ''; // Add this line

            document.getElementById('movieTitle').textContent = title;
            document.getElementById('movieCategory').textContent = `Category: ${category}`;
            document.getElementById('movieReleaseYear').textContent = `Release Year: ${releaseYear}`;
            document.getElementById('movieRating').textContent = `Rating: ${rating}`;
            document.getElementById('movieVotes').textContent = `Votes: ${votes}`;
      
            const posterUrl = queryParams['posterUrl'] || ''; // Add this line
    document.getElementById('posterImg').src = posterUrl; // Set the poster image source

    const detailsContainer = document.querySelector('.inside-heropage');
    detailsContainer.innerHTML += `
        <p>For ${isAdult ? 'Adults' : 'All Ages'}</p>
        <p>${runtimeMinutes ? 'Runtime: ' + runtimeMinutes + ' mins' : ''}</p>
    `;
        });

        function getQueryParams() {
        const queryParams = {};
        const queryString = window.location.search.substring(1);
        const params = queryString.split('&');

        for (const param of params) {
            const [key, value] = param.split('=');
            queryParams[key] = decodeURIComponent(value);
        }

        return queryParams;
    }
    </script>
</body>
</html>

